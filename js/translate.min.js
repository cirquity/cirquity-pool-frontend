/*!
 * Cirquity - Cirquity v0.1.0 (https://cirquity.com)
 * Copyright 2020-2021 The Cirquity Developers
 * Licensed under MIT (https://github.com/cirquity/cirquity-pool/blob/master/LICENSE)
 */

!function(a){let e=null,t=null;a((function(){null==typeof languages&&(languages={en:"English"}),e=defaultLang||"en";const t={},n=location.search.substr(1).split(/&/);for(let a=0;a<n.length;++a){const l=n[a].split(/=/);""!==l[0]&&(t[decodeURIComponent(l[0])]=decodeURIComponent(l.slice(1).join("").replace("+"," ")),void 0!==t.lang&&(e=t.lang))}void 0!==typeof languages&&languages&&a.renderLangSelector()})),a.loadTranslations=function(){t?a.translate(t):languages&&languages[e]?(a.getJSON("/i18n/"+e+".json",a.translate),a.getScript("/vendor/timeago/locales/jquery.timeago."+e+".js")):(a.getJSON("/i18n/"+defaultLang+".json",a.translate),a.getScript("/vendor/timeago/locales/jquery.timeago."+defaultLang+".js"))},a.getTranslation=function(a){return t&&t[a]?t[a]:null},a.translate=function(n){a("html")[0].lang=e,t=n,a.changeTranslatableLink(e),a("[data-translate-key]").each((function(e){let t=n[a(this).attr("data-translate-key")];a(this).html(t)})),a("[data-translate-placeholder]").each((function(e){let t=n[a(this).attr("data-translate-placeholder")];a(this).attr("placeholder",t)})),a("[data-translate-value]").each((function(e){let t=n[a(this).attr("data-translate-value")];a(this).attr("value",t)}))},a.renderLangSelector=function(){let t="",n=0;if(languages){t+='<select id="newLang" class="custom-select" aria-label="Language">';for(let a in languages)if(languages.hasOwnProperty(a)){t+='<option value="'+a+'"'+(a===e?' selected="selected"':"")+">"+languages[a]+"</option>",n++}t+="</select>"}t&&n>1&&(a("#langSelector").html(t),a("#newLang").each((function(){a(this).change((function(){let e="?lang="+a(this).val();window.location.hash&&(e+=window.location.hash),window.location.href=e}))})))},a.changeTranslatableLink=function(e){if("en"!==e){let t=a("a.translatable");for(let n of t){let t=a(n),l=t.attr("href");l.indexOf("?lang")&&(l=l.replace(/\?lang=\w+/g,"")),t.attr("href",l+"?lang="+e)}}}}(jQuery);